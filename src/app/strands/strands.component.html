<div class="strands">
  <h1>Stränge, {{ date }}</h1>
  <h2>Thema: „{{ subTitle }}“</h2>
  <p class="current-guess" [style.color]="statusColor">
    &nbsp;{{ statusText }}&nbsp;
  </p>
  <div
    #letterbox
    class="letterbox"
    (touchmove)="onTouchMove($event, letterbox.getBoundingClientRect())"
    (touchend)="onTouchEnd($event)"
    (touchstart)="onTouchStart($event, letterbox.getBoundingClientRect())"
  >
    @for (letter of letters; track $index) {
    <app-letter
      [letter]="letter"
      (mouseEvent)="onLetterMouseEvent($event, letter)"
    ></app-letter>
    }
  </div>
  <svg class="connections" (touchstart)="$event.preventDefault()">
    @for (connection of connections; track $index) {
    <line
      [attr.x1]="connection.from.y * 60 + 30"
      [attr.y1]="connection.from.x * 60 + 30"
      [attr.x2]="connection.to.y * 60 + 30"
      [attr.y2]="connection.to.x * 60 + 30"
      [attr.stroke]="
        connection.isGuessActive
          ? 'var(--guess-light)'
          : connection.isSuperSolutionActive
          ? 'var(--super-solution-light)'
          : 'var(--solution-light)'
      "
      stroke-width="10"
    />
    }
  </svg>

  <div class="hint-box">
    <button
      class="hint level-{{ nonSolutionWordsFound.length - tipsUsed * 3 }}"
      [disabled]="nonSolutionWordsFound.length - tipsUsed * 3 < 3"
      (click)="useHint()"
    >
      Hinweis
    </button>
  </div>
</div>
